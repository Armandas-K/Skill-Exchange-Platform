<!DOCTYPE html>
<html lang="en">
<head>
    <title>MakersLink - Skills Exchange</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://unpkg.com/i18next@21.6.14/dist/umd/i18next.min.js"></script>
    <link rel="stylesheet" href="index.css"/>
    <link rel="icon" href="assets/makers_valley.png" type="image/png">
</head>

<body>
    <!-- Unified Modal -->
    <div id="unifiedModal" class="modal">
        <div class="modal-content">
            <span class="close-button" id="closeUnifiedModal">&times;</span>
            <div id="modalBody"></div>
        </div>
    </div>

    <!-- header -->
    <header>
        <div class="header-container">
            <h1>Huh</h1>
            <div class="header-profile">
                <img src="assets/lebo.jpg" alt="Profile Picture" class="header-pfp" id="openProfileModal" />
            </div>
        </div>

        <nav>
            <div class="topnav">
                <div class="nav-left">
                    <a href="index.html" class="active">Home</a>
                    <a href="jobs.html">Upload</a>
                    <a href="view.html">View Listings</a>
                    <a href="#">Profile</a>
                    <form id="searchForm" class="search-wrapper">
                        <input type="text" id="searchInput" placeholder="Search...">
                        <button type="submit">Go</button>
                    </form>
                </div>
                <div class="nav-right">
                    <button id="openLoginModal">Login</button>
                    <button id="openRegisterModal">Register</button>
                    <select id="languageSelector">
                    <option value="en">EN</option>
                    <option value="fr">FR</option>
                    </select>
                </div>
            </div>
        </nav>
    </header>

    <!-- main -->
    <main>
        <div class="container">

            <section class="content full-width-section">
                <h2>Connect with the people of MakersValley</h2>
                <p>Helping individuals in Makers Valley find jobs to sustain their needs</p>

                <div class="map-wrapper">
                    <iframe src="https://www.google.com/maps/d/embed?mid=1GGQyruUqQx6KKSNM6n_d6VxshMVPz6I2&ehbc=2E312F" width="100%" height="400" allowfullscreen="" loading="lazy"></iframe>
                </div>
            </section>

            <div class="top-reps-box">
                <h2>Top Rated Members</h2>
                <div id="profiles-container" class="profiles-grid"></div>
            </div>

            <div class="popular-searches">
            <h2>Popular Searches</h2>
            <div class="search-tags">
                    <button class="search-tag">Hair Braiding</button>
                    <button class="search-tag">Sewing</button>
                    <button class="search-tag">Plumbing</button>
                    <button class="search-tag">Electrician</button>
                    <button class="search-tag">Tutoring</button>
                </div>
            </div>
        </div>

        <!-- Modal Templates -->
        <div id="loginTemplate" class="modal-template" style="display:none;">
            <h2>Login</h2>
            <form id="loginForm" class="login-form">
                <label for="email">Email:</label>
                <input type="email" id="email" required>

                <label for="password">Password:</label>
                <input type="password" id="password" required>

                <button type="submit">Login</button>
            </form>
            <p id="loginMessage"></p>
        </div>

        <div id="registerTemplate" class="modal-template" style="display:none;">
            <h2>Register</h2>
            <form id="registerForm" class="register-form">
                <label for="registerEmail">Email:</label>
                <input type="email" id="registerEmail" required>

                <label for="registerPassword">Password:</label>
                <input type="password" id="registerPassword" required>

                <label for="registerLanguage">Language:</label>
                <input type="text" id="registerLanguage" required>

                <button type="submit">Register</button>
            </form>
            <p id="registerMessage"></p>
        </div>


        <div id="profileTemplate" class="modal-template" style="display:none;">
            <h2>Your Profile</h2>
            <img src="assets/lebo.jpg" alt="Profile Picture" class="profile-modal-img" />
            <div class="profile-modal-body">
                <p><strong>Name:</strong> Lebo B.</p>
                <p><strong>Skills:</strong> Hair Braiding, Sewing</p>
                <p><strong>Rating:</strong> ★★★★☆</p>
                <button id="openEditProfileModal">Edit Profile</button>
            </div>
        </div>

        <div id="searchTemplate" class="modal-template" style="display:none;">
            <h2>Search Results</h2>
            <div id="search-results"></div>
        </div>

        <div id="editProfileTemplate" class="modal-template" style="display:none;">
            <h2>Edit Profile</h2>
            <form id="editProfileForm" class="edit-profile-form">
                <label for="editName">Name:</label>
                <input type="text" id="editName" required>

                <label for="editSkills">Skills (comma separated):</label>
                <input type="text" id="editSkills" required>

                <label for="editLanguages">Languages (comma separated):</label>
                <input type="text" id="editLanguages" required>

                <button type="submit">Save Changes</button>
            </form>
            <p id="editProfileMessage"></p>
        </div>

    </main>

    <!-- footer -->
    <footer>
        <p>© 2025 MakersLink - UEA Synoptic Project</p>
    </footer>

    <!-- script links -->
    <script src="https://cdn.jsdelivr.net/npm/idb@8/build/umd.js"></script>
    <script src="app.js"></script>
    <script src="i18n.js"></script>
</body>
</html>
